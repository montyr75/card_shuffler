<link rel="import" href="packages/polymer/polymer.html">
<link rel="import" href="packages/core_elements/core_header_panel.html">
<link rel="import" href="packages/core_elements/core_toolbar.html">
<link rel="import" href="packages/core_elements/core_ajax_dart.html">
<link rel="import" href="packages/paper_elements/paper_button.html">
<link rel="import" href="../card/card_view.html">

<polymer-element name="app-view">

  <template>
    <style>
      :host {
        height: 100%;
      }

      #wrapper {
        width: 100%;
        height: 100%;
      }

      .app-title {
        text-align: center;
      }

      .box-container {
        border: 1px solid #ccc;
        padding: 10px;
        margin: 10px 10px 10px 0;
        max-width: 902px;
      }

      .user-select-none {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }
    </style>

    <core-ajax-dart auto url="{{cardDeckDataURL}}" handleAs="json" on-core-response="{{cardsLoaded}}"></core-ajax-dart>

    <core-header-panel flex>
      <core-toolbar>
        <h2 class="app-title" flex>Card Shuffler</h2>
      </core-toolbar>

      <div id="wrapper" layout vertical center class="user-select-none">
        <div layout horizontal wrap class="box-container">
          <template repeat="{{card in cardDeck.cards}}">
            <card-view card={{card}}></card-view>
          </template>
        </div>

        <div layout horizontal class="box-container">
          <paper-button on-tap="{{shuffle}}">Shuffle</paper-button>
        </div>
      </div>
    </core-header-panel>
  </template>

  <script type="application/dart" src="app_view.dart"></script>
</polymer-element>